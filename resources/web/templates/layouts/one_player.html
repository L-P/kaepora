{{define "content"}}
<section class="hero SiteHeader--profile">
    <div class="hero-head">
        {{- template "menu" . -}}
    </div>

    <div class="hero-body">
        <div class="container">
            <h1 class="PageTitle PlayerName">{{ .Payload.Player.Name }} {{if ne "" .Payload.Player.StreamURL}} <a class="Player--streamLink__twitch" href="{{.Payload.Player.StreamURL}}"></a> {{end}}</h1>
            <div class="heading Player--dateInscription">{{ t .Locale "Climbing the ladder since %s" (date .Payload.Player.CreatedAt) }}</div>
        </div>
    </div>
</section>

<div class="container">
    <div class="QuickStats">
        <div class="QuickStats--stat Stat">
            <div class="Stat--value">150</div>
            <div class="Stat--name heading">{{t .Locale "Matches played"}}</div>
        </div>

        <div class="QuickStats--stat Stat">
            <div class="Stat--value">75</div>
            <div class="Stat--name heading">{{t .Locale "Matches won"}}</div>
        </div>

        <div class="QuickStats--stat Stat is-hidden-touch">
            <div class="Stat--name heading">{{t .Locale "Most played league"}}</div>
            <div class="Stat--value">Standard</div>
        </div>
    </div>
</div>

<section class="section">
    <div class="container">
        <div class="columns">
            <div class="column is-half">
                <h2 class="title is-display is-size-4-touch">{{t .Locale "This season"}}</h2>
                <div class="box is-shadowless">
                    <div id="PlayerPerformances">
                        <div class="tabs is-toggle is-fullwidth">
                            <ul>
                                {{ range $k, $v := .Payload.PlayerStats.Performances }}
                                    <li>
                                        <a>{{ (index $.Payload.Leagues $v.LeagueID).Name }}</a>
                                    </li>
                                {{ end }}
                            </ul>
                        </div>
                        <div class="tabs-content">
                            {{ range $k, $v := .Payload.PlayerStats.Performances }}
                                <div class="tab-content">
                                    <div class="WLRatio">
                                        <div class="level is-mobile">
                                            <div class="level-left">
                                                <div class="level-item">
                                                    <span class="has-text-success has-text-weight-bold">X% de victoires</span>
                                                </div>
                                            </div>
                                            <div class="level-right">
                                                <div class="level-item">
                                                    <span class="has-text-danger has-text-weight-bold">X% de défaites</span>
                                                </div>
                                            </div>
                                        </div>
                                        <progress class="progress is-small is-success" value="50" max="100">50%</progress>
                                    </div>

                                    <div class="RatingVariation">
                                        <img src="{{ uri $.Locale "player" $.Payload.Player.Name "graph" (index $.Payload.Leagues $v.LeagueID).ShortCode "rating.svg" }}" alt="{{ t $.Locale "Ratings graph" }}" >
                                    </div>

                                    <div class="SeedDurations">
                                        <img src="{{ uri $.Locale "player" $.Payload.Player.Name "graph" (index $.Payload.Leagues $v.LeagueID).ShortCode "seedtime.svg" }}" alt="{{ t $.Locale "Seed completion times graph" }}" >
                                    </div>
                                </div>
                            {{ end }}
                        </div>
                    </div>
                </div>

                <h2 class="title is-display is-size-4-touch">{{t .Locale "Past seasons"}}</h2>
                <div class="box is-shadowless is-clipped is-relative SeasonResults">
                    <h3 class="NumSaison">Saison 1</h3>
                    {{ range $k, $v := .Payload.PlayerStats.Performances }}
                        <div class="columns is-vcentered">
                            <div class="column">
                                <div class="tag is-medium is-rounded has-text-weight-bold SeasonResults--league">{{ (index $.Payload.Leagues $v.LeagueID).Name }}</div>
                            </div>
                            <div class="column is-two-thirds">
                                <div class="WLRatio">
                                    <div class="level is-mobile">
                                        <div class="level-left">
                                            <div class="level-item">
                                                <span class="has-text-success has-text-weight-bold">X victoires</span>
                                            </div>
                                        </div>
                                        <div class="level-right">
                                            <div class="level-item">
                                                <span class="has-text-danger has-text-weight-bold">X défaites</span>
                                            </div>
                                        </div>
                                    </div>
                                    <progress class="progress is-small is-success" value="50" max="100">50%</progress>
                                </div>
                            </div>
                        </div>
                    {{ end }}
                </div>
            </div>
            <div class="column">
                <h2 class="title is-display is-size-4-touch">{{t .Locale "Past races"}}</h2>

                {{template "player_matches" .}}
            </div>
        </div>
    </div>
</section>

{{- template "footer" . -}}
<script src="{{assetURL "js/one-player.js"}}" integrity="{{assetIntegrity "js/one-player.js"}}" ></script>
{{end}}
